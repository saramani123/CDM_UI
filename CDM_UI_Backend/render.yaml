services:
  - type: web
    name: cdm-backend
    env: python
    plan: starter
    buildCommand: pip install -r requirements.txt
    startCommand: uvicorn main:app --host 0.0.0.0 --port 10000 --timeout-keep-alive 600 --timeout-graceful-shutdown 600
    healthCheckPath: /health
    envVars:
      - key: ENVIRONMENT
        value: production
      - key: NEO4J_URI
        value: neo4j+s://abb4a9a8.databases.neo4j.io
      - key: NEO4J_USERNAME
        value: neo4j
      - key: NEO4J_PASSWORD
        value: y79sZZXCcA-Jb26aeqjeYl2z4HAt9CWE5cYWQg8wxP8
      # Uncomment and update after creating PostgreSQL database on Render:
      # - key: DATABASE_URL
      #   fromDatabase:
      #     name: cdm-metadata-db  # Name of your PostgreSQL service
      #     property: connectionString
